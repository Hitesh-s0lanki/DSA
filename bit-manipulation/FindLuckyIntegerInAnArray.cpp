#include <iostream>
#include <vector>

using namespace std;

void freqSolve(vector<int>& arr) {
    vector<int> freq(501, 0);

    for( int i = 0; i < arr.size(); i++ ) {
        freq[arr[i]]++;
    }

    for( int i = 1; i < 10; i++ ) {
        cout << i << " -> " << freq[i] << endl;
    }
}

int findLucky(vector<int>& arr) {
    int n = arr.size();
    for( int i = 0; i < n; i++ ) {
        int val = arr[i] & 65535; // Lower 16 bits
        if( val >= 1 && val <= n ) {
            arr[val - 1] += (1 << 16); // Increase high 16 bits
        }
    }
    for( int val = n; val >= 1; val-- ) {
        if( (arr[val - 1] >> 16) == val ) {
            return val;
        }
    }
    return -1;
}

int main() {

    vector<int> arr = { 231,306,297,310,237,47,207,391,59,383,215,162,448,82,199,175,425,83,211,369,427,367,244,53,256,333,390,7,64,238,224,25,143,266,245,470,484,73,421,268,193,280,205,197,279,366,69,474,96,445,332,396,336,259,414,129,292,85,78,104,93,171,255,341,304,225,325,50,434,411,213,22,92,368,380,263,223,14,258,423,412,188,128,88,165,420,185,123,461,98,222,495,174,142,145,139,475,183,107,281,247,381,487,19,379,33,272,105,480,131,28,208,316,264,77,377,43,296,34,138,204,235,89,257,68,63,116,355,305,403,352,469,269,191,384,365,424,392,228,111,308,373,202,363,270,457,23,402,2,350,276,398,460,346,75,151,100,267,149,360,472,351,323,56,429,232,298,119,400,335,229,169,436,479,187,158,339,432,416,46,302,72,471,265,286,408,248,430,459,230,30,451,32,338,70,441,387,358,464,370,218,24,291,278,250,115,488,127,376,410,289,329,374,463,198,168,161,409,186,132,388,389,249,489,167,214,446,312,401,195,13,468,81,42,120,375,361,133,170,319,340,362,500,295,345,320,253,482,418,180,239,313,435,163,220,135,18,84,192,206,35,318,453,395,419,102,106,181,61,241,254,277,324,126,397,458,86,226,80,234,144,182,330,456,194,201,444,212,393,273,52,152,146,447,91,10,5,485,288,413,58,477,108,450,315,478,140,467,347,394,141,260,48,262,67,294,124,6,60,438,12,160,3,164,112,62,481,406,200,405,1,179,87,491,27,236,378,221,76,357,440,287,125,282,74,443,156,157,251,147,494,493,415,31,110,300,49,217,442,54,184,203,190,97,261,476,449,154,275,16,240,37,359,79,55,303,26,159,227,11,153,219,382,90,285,178,497,57,483,433,417,385,334,189,290,454,473,274,118,36,364,137,317,29,196,422,404,309,113,94,38,328,233,326,252,173,462,465,134,17,353,301,95,293,209,216,65,51,109,103,41,283,166,20,437,242,452,321,407,426,246,428,39,348,499,356,331,299,66,148,21,372,71,399,9,122,455,498,177,349,99,371,337,466,314,307,210,492,150,311,130,136,155,342,496,344,386,271,343,121,486,490,439,40,4,284,44,117,45,172,114,327,15,431,101,176,8,322,354,243 };


    // freqSolve(arr);

    cout << findLucky(arr);

    // cout << (1 << 1);

    return 0;
}